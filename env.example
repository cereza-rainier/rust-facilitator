# =============================================================================
# x402 Rust Facilitator - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp env.example .env
#
# REQUIRED: You must set these values for the facilitator to work
# OPTIONAL: These have sane defaults and can be left as-is

# =============================================================================
# üîë SOLANA CONFIGURATION (REQUIRED)
# =============================================================================

# Your Solana private key in base58 format
# HOW TO GET:
#   1. Install Solana CLI: https://docs.solana.com/cli/install-solana-cli-tools
#   2. Generate keypair: solana-keygen new --outfile ./facilitator-keypair.json
#   3. For base58 format, use our CLI tool:
#      cargo run --bin facilitator-cli -- keygen
#
# ‚ö†Ô∏è  SECURITY: Never commit your .env file with real keys!
FEE_PAYER_PRIVATE_KEY=your_base58_private_key_here

# Solana RPC endpoint
# OPTIONS:
#   - Devnet (free, for testing): https://api.devnet.solana.com
#   - Mainnet (production): https://api.mainnet-beta.solana.com
#   - Paid RPC (recommended for production):
#       * Helius: https://YOUR_PROJECT.helius-rpc.com?api-key=YOUR_KEY
#       * QuickNode: https://YOUR_ENDPOINT.solana-mainnet.quiknode.pro/YOUR_TOKEN
#       * Alchemy: https://solana-mainnet.g.alchemy.com/v2/YOUR_KEY
#
# üí° TIP: Start with devnet for testing, upgrade to paid RPC for production
SOLANA_RPC_URL=https://api.devnet.solana.com

# Network identifier
# VALUES: devnet | mainnet | testnet | localnet
NETWORK=devnet

# =============================================================================
# üåê SERVER CONFIGURATION (OPTIONAL - Has defaults)
# =============================================================================

# Port to listen on (default: 3000)
PORT=3000

# Host to bind to (default: 0.0.0.0)
HOST=0.0.0.0

# =============================================================================
# üíæ CACHE CONFIGURATION (OPTIONAL - Has defaults)
# =============================================================================

# Number of account entries to cache (default: 1000)
CACHE_SIZE=1000

# Time-to-live for cached accounts in seconds (default: 30)
CACHE_TTL_SECONDS=30

# =============================================================================
# üõ°Ô∏è RATE LIMITING (OPTIONAL - Has defaults)
# =============================================================================

# Enable rate limiting (default: true)
ENABLE_RATE_LIMIT=true

# Max requests per second per IP (default: 10)
RATE_LIMIT_PER_SECOND=10

# Burst size - max requests in quick succession (default: 20)
RATE_LIMIT_BURST_SIZE=20

# =============================================================================
# üìä LOGGING CONFIGURATION (OPTIONAL - Has defaults)
# =============================================================================

# Log level: trace | debug | info | warn | error (default: info)
LOG_LEVEL=info

# Rust-specific logging filter (default: x402_facilitator=info)
RUST_LOG=x402_facilitator=info

# =============================================================================
# üîî WEBHOOKS (OPTIONAL - Only if you need event notifications)
# =============================================================================

# Webhook URL to receive event notifications (leave empty to disable)
WEBHOOK_URL=

# Webhook secret for HMAC signature verification
WEBHOOK_SECRET=

# =============================================================================
# üîê SECURITY (OPTIONAL - Production recommendations)
# =============================================================================

# Transaction deduplication window in seconds (default: 300)
DEDUP_WINDOW_SECONDS=300

# Payment expiry time in seconds (default: 600)
PAYMENT_EXPIRY_SECONDS=600

# =============================================================================
# üìà MONITORING (OPTIONAL - For production observability)
# =============================================================================

# Enable Prometheus metrics endpoint (default: true)
ENABLE_METRICS=true

# Sentry DSN for error tracking (leave empty to disable)
SENTRY_DSN=


